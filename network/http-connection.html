<!DOCTYPE html> <html><head>
		<title>HTTP Connection</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="my_study - HTTP Connection">
		<meta property="og:title" content="HTTP Connection">
		<meta property="og:description" content="my_study - HTTP Connection">
		<meta property="og:type" content="website">
		<meta property="og:url" content="network/http-connection.html">
		<meta property="og:image" content="https://my-study.s3.ap-northeast-2.amazonaws.com/HTTP%20Connection%20/%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-25%20%EC%98%A4%ED%9B%84%2012.15.02.png">
		<meta property="og:site_name" content="my_study">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon code-styler code-styler-style-inline code-styler-gutter-highlight"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles">mjx-mfrac{display:inline-block;text-align:left}mjx-frac{display:inline-block;vertical-align:.17em;padding:0 .22em}mjx-frac[type="d"]{vertical-align:.04em}mjx-frac[delims]{padding:0 .1em}mjx-frac[atop]{padding:0 .12em}mjx-frac[atop][delims]{padding:0}mjx-dtable{display:inline-table;width:100%}mjx-dtable>*{font-size:2000%}mjx-dbox{display:block;font-size:5%}mjx-num{display:block;text-align:center}mjx-den{display:block;text-align:center}mjx-mfrac[bevelled]>mjx-num{display:inline-block}mjx-mfrac[bevelled]>mjx-den{display:inline-block}mjx-den[align=right],mjx-num[align=right]{text-align:right}mjx-den[align=left],mjx-num[align=left]{text-align:left}mjx-nstrut{display:inline-block;height:.054em;width:0;vertical-align:-.054em}mjx-nstrut[type="d"]{height:.217em;vertical-align:-.217em}mjx-dstrut{display:inline-block;height:.505em;width:0}mjx-dstrut[type="d"]{height:.726em}mjx-line{display:block;box-sizing:border-box;min-height:1px;height:.06em;border-top:.06em solid;margin:.06em -.1em;overflow:hidden}mjx-line[type="d"]{margin:.18em -.1em}mjx-mrow{display:inline-block;text-align:left}mjx-mspace{display:inline-block;text-align:left}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c37::before{padding:.676em .5em .022em 0;content:"7"}mjx-c.mjx-c33::before{padding:.665em .5em .022em 0;content:"3"}mjx-c.mjx-c36::before{padding:.666em .5em .022em 0;content:"6"}mjx-c.mjx-c1D463.TEX-I::before{padding:.443em .485em .011em 0;content:"v"}mjx-c.mjx-c1D45F.TEX-I::before{padding:.442em .451em .011em 0;content:"r"}mjx-c.mjx-c1D44E.TEX-I::before{padding:.441em .529em .01em 0;content:"a"}mjx-c.mjx-c1D454.TEX-I::before{padding:.442em .477em .205em 0;content:"g"}mjx-c.mjx-c1D460.TEX-I::before{padding:.442em .469em .01em 0;content:"s"}mjx-c.mjx-c1D45C.TEX-I::before{padding:.441em .485em .011em 0;content:"o"}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c1D447.TEX-I::before{padding:.677em .704em 0 0;content:"T"}mjx-c.mjx-c35::before{padding:.666em .5em .022em 0;content:"5"}mjx-c.mjx-c2E::before{padding:.12em .278em 0 0;content:"."}mjx-msub{display:inline-block;text-align:left}mjx-c.mjx-c1D436.TEX-I::before{padding:.705em .76em .022em 0;content:"C"}mjx-c.mjx-c1D434.TEX-I::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c1D449.TEX-I::before{padding:.683em .769em .022em 0;content:"V"}mjx-c.mjx-c1D445.TEX-I::before{padding:.683em .759em .021em 0;content:"R"}mjx-c.mjx-c1D443.TEX-I::before{padding:.683em .751em 0 0;content:"P"}mjx-c.mjx-c1D456.TEX-I::before{padding:.661em .345em .011em 0;content:"i"}mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block;text-align:left}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-mi{display:inline-block;text-align:left}mjx-mn{display:inline-block;text-align:left}mjx-msup{display:inline-block;text-align:left}mjx-texatom{display:inline-block;text-align:left}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("lib/fonts/mathjax_zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("lib/fonts/mathjax_main-regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("lib/fonts/mathjax_main-bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("lib/fonts/mathjax_math-italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("lib/fonts/mathjax_main-italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("lib/fonts/mathjax_math-bolditalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("lib/fonts/mathjax_size1-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("lib/fonts/mathjax_size2-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("lib/fonts/mathjax_size3-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("lib/fonts/mathjax_size4-regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("lib/fonts/mathjax_ams-regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("lib/fonts/mathjax_calligraphic-regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("lib/fonts/mathjax_calligraphic-bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("lib/fonts/mathjax_fraktur-regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("lib/fonts/mathjax_fraktur-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("lib/fonts/mathjax_sansserif-regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("lib/fonts/mathjax_sansserif-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("lib/fonts/mathjax_sansserif-italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("lib/fonts/mathjax_script-regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("lib/fonts/mathjax_typewriter-regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("lib/fonts/mathjax_vector-regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("lib/fonts/mathjax_vector-bold.woff") format("woff")}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c1D45D.TEX-I::before{padding:.442em .503em .194em 0;content:"p"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"−"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c2C::before{padding:.121em .278em .194em 0;content:","}mjx-c.mjx-c1D45E.TEX-I::before{padding:.442em .46em .194em 0;content:"q"}mjx-c.mjx-c1D452.TEX-I::before{padding:.442em .466em .011em 0;content:"e"}mjx-c.mjx-c1D451.TEX-I::before{padding:.694em .52em .01em 0;content:"d"}mjx-c.mjx-c1D441.TEX-I::before{padding:.683em .888em 0 0;content:"N"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c1D45A.TEX-I::before{padding:.442em .878em .011em 0;content:"m"}mjx-c.mjx-c1D450.TEX-I::before{padding:.442em .433em .011em 0;content:"c"}mjx-c.mjx-c6D::before{padding:.442em .833em 0 0;content:"m"}mjx-c.mjx-c6F::before{padding:.448em .5em .01em 0;content:"o"}mjx-c.mjx-c64::before{padding:.694em .556em .011em 0;content:"d"}mjx-c.mjx-c1D458.TEX-I::before{padding:.694em .521em .011em 0;content:"k"}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}</style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="HTTP Connection"><p dir="auto">HTTP Connection</p></h1><div class="heading-wrapper"><h3 data-heading="출처" dir="auto" class="heading" id="출처"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>출처</h3><div class="heading-children"><div><ul dir="auto">
<li data-line="0" dir="auto">HTTP 완벽 가이드</li>
</ul></div><div><hr dir="auto"></div></div></div><div class="heading-wrapper"><h3 data-heading="개요" dir="auto" class="heading" id="개요"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>개요</h3><div class="heading-children"><div><ul dir="auto">
<li data-line="0" dir="auto"><a data-href="#HTTP의 성능" href="#HTTP의_성능" class="internal-link" target="_self" rel="noopener">HTTP의 성능</a></li>
<li data-line="1" dir="auto"><a data-href="#HTTP의 커넥션 관리" href="#HTTP의_커넥션_관리" class="internal-link" target="_self" rel="noopener">HTTP의 커넥션 관리</a></li>
<li data-line="2" dir="auto"><a data-href="#HTTP 1.1 과 지속 커넥션" href="#HTTP_1.1_과_지속_커넥션" class="internal-link" target="_self" rel="noopener">HTTP 1.1 과 지속 커넥션</a></li>
<li data-line="3" dir="auto"><a data-href="#Content-Length and Chrome" href="#Content-Length_and_Chrome" class="internal-link" target="_self" rel="noopener">Content-Length and Chrome</a></li>
<li data-line="4" dir="auto"><a data-href="#파이프라인과 멱등성" href="#파이프라인과_멱등성" class="internal-link" target="_self" rel="noopener">파이프라인과 멱등성</a></li>
<li data-line="5" dir="auto"><a data-href="#지속 커넥션 성능 확인하기" href="#지속_커넥션_성능_확인하기" class="internal-link" target="_self" rel="noopener">지속 커넥션 성능 확인하기</a></li>
</ul></div><div><hr dir="auto"></div></div></div><div class="heading-wrapper"><h3 data-heading="HTTP의 성능" dir="auto" class="heading" id="HTTP의_성능"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>HTTP의 성능</h3><div class="heading-children"><div><p dir="auto"><b><u>HTTP1.1 는 TCP 상단에서 구현되는 프로토콜인 만큼 하단에 위치한 TCP의 성능에 영향을 크게 받는다.</u></b> 실제로 HTTP 트랜젝션을 처리하는 부분을 생각해보면 실질적인 트랜젝션의 처리보다 <strong>커넥션을 수립하고 데이터를 전송하는데 발생하는 오버해드가 크다</strong>는 것을 곧장 확인할 수 있다.<br>
<img src="https://my-study.s3.ap-northeast-2.amazonaws.com/HTTP%20Connection%20/%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-25%20%EC%98%A4%ED%9B%84%2012.15.02.png" referrerpolicy="no-referrer"></p></div><div><p dir="auto">이러한 오버헤드 발생의 주요 원인으로는 핸드 쉐이크, ACK 전송 지연, Slow Start, 네이글 알고리즘이 존재한다.</p></div><div class="heading-wrapper"><h4 data-heading="핸드 쉐이크" dir="auto" class="heading" id="핸드_쉐이크"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>핸드 쉐이크</h4><div class="heading-children"><div><p dir="auto">핸드 쉐이크는 TCP 연결 수립의 필수적으로 존재해야 하는 단계로 <strong>모든 커넥션이 성사되기 위해서는 이 3번의 패킷을 교환하는 절차를 반드시 진행</strong>해야만 한다. 이에 따라 만약 <strong>하나의 패킷에 들어갈 정도로 작은 양의 데이터를 전송하는 HTTP를 처리하는 경우여도 패킷을 반드시 3번이상 주고 받아야 하는 비효율이 발생</strong>하게 된다.</p></div></div></div><div class="heading-wrapper"><h4 data-heading="네이글 알고리즘" dir="auto" class="heading" id="네이글_알고리즘"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>네이글 알고리즘</h4><div class="heading-children"><div><p dir="auto">네이글 알고리즘은 위와 같은 문제를 해결하고자 만들어진 방법으로 <strong>데이터가 버퍼에 어느정도 쌓일 때까지 전송을 미루다 적절한 크기에 도달하면 전송을 진행하는 방식</strong>이다. 효율적으로 동작할 수 있으나 작은 양의 데이터만 전송할 경우 대기로 인해 오히려 딜레이가 발생하는 상황이 발생할 수 있다. 소켓 옵션을 통해 해당 기능을 비활성화 할 수있다.</p></div></div></div><div class="heading-wrapper"><h4 data-heading="ACK 전송 지연" dir="auto" class="heading" id="ACK_전송_지연"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>ACK 전송 지연</h4><div class="heading-children"><div><p dir="auto">TCP는 신뢰성을 보장하기 위해 데이터의 수신 이후 ACK 패킷을 전송한다. 이때 ACK 패킷 만을 전송하는 것은 데이터의 크기가 작기 때문에 커넥션을 통해 전달돼야 하는 <b><u>데이터가 추가 발생할 때까지 대기를 진행하다 ACK 패킷과 데이터를 동시에 전송하는 피기백이라는 방법이 등장</u></b>했다.</p></div></div></div><div class="heading-wrapper"><h4 data-heading="[[TCP 혼잡 제어#Slow Start|Slow Start]]" dir="auto" class="heading" id="[[TCP_혼잡_제어#Slow_Start|Slow_Start]]"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="TCP 혼잡 제어 > Slow Start" data-href="TCP 혼잡 제어#Slow Start" href="network/tcp-혼잡-제어.html#Slow_Start" class="internal-link" target="_self" rel="noopener">Slow Start</a></h4><div class="heading-children"><div><p dir="auto">슬로우 스타트는 위의 링크를 참조하자.</p></div></div></div><div class="heading-wrapper"><h4 data-heading="[[TCP 첫 걸음#4-Way Hand Shake|Time Wait]]" dir="auto" class="heading" id="[[TCP_첫_걸음#4-Way_Hand_Shake|Time_Wait]]"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="TCP 첫 걸음 > 4-Way Hand Shake" data-href="TCP 첫 걸음#4-Way Hand Shake" href="network/tcp-첫-걸음.html#4-Way_Hand_Shake" class="internal-link" target="_self" rel="noopener">Time Wait</a></h4><div class="heading-children"><div><p dir="auto"> <strong>Time Wait는 소켓의 연결이 종료될때 발생하는 상태로 특정 기간동안 해당 소켓이 사용했던 엔드 포인트의 사용을 금지하는 역할을 수행</strong>한다. 이 경우 사용 불가한 포트의 수가 증가하게 돼 서버가 커넥션을 수립하지 못하고 대기하는 현상이 발생할 수 있다.</p></div><div><hr dir="auto"></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="HTTP의 커넥션 관리" dir="auto" class="heading" id="HTTP의_커넥션_관리"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>HTTP의 커넥션 관리</h3><div class="heading-children"><div><p dir="auto">앞서 언급한 문제들을 해결하고자 여러가지 방법들이 연구 됐는데 대표적인 방법이 병렬 커넥션과 지속 커넥션의 생성이다. </p></div><div><ul dir="auto">
<li data-line="0" dir="auto">
<p dir="auto"><strong>병렬 커넥션</strong><br>
병렬 커넥션은 복수 개의 커넥션을 개설해 통신을 진행하는 방식이다. 웹 사이트의 각 요소별로 별도의 커넥션을 개설해 통신을 진행한다. 순차적으로 진행할 때에 비해 속도가 개선되고 <strong>동시에 여러 요소가 로딩 되기에 높은 응답성을 제공 하기에도 유리</strong>하다. 하지만 병렬 커넥션의 경우 사용하는 포트의 수나 트래픽이 높은 편이기에 서버에 부하를 줄 수도 있다.</p>
</li>
<li data-line="3" dir="auto">
<p dir="auto"><strong>지속 커넥션</strong><br>
지속 커넥션은 단일한 커넥션이 계속해서 여러 트랜젝션을 처리하는 것을 말한다. 이 커넥션은 클라이언트나 서버에서 명시적으로 닫기 이전까진 닫히지 않으며 여러 트랜젝션을 처리하는데 사용할 수 있다. 이러한 <span class="red red-bg">지속 커넥션을 사용하면 매 트랜젝션마다 핸드 쉐이크를 하거나 슬로우 스타트를 튜닝해야 하는 비효율을 개선할 수 있다. </span></p>
</li>
</ul></div><div><p dir="auto"><img alt="500" src="https://my-study.s3.ap-northeast-2.amazonaws.com/HTTP%20Connection%20/%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-25%20%EC%98%A4%ED%9B%84%204.37.25.png" referrerpolicy="no-referrer"></p></div><div><hr dir="auto"></div></div></div><div class="heading-wrapper"><h3 data-heading="HTTP 1.1 과 지속 커넥션" dir="auto" class="heading" id="HTTP_1.1_과_지속_커넥션"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>HTTP 1.1 과 지속 커넥션</h3><div class="heading-children"><div><p dir="auto">지속 커넥션과 병렬 커넥션 모두 활용하는 것이 효율적인 방법이므로 거의 모든 웹 서버와 브라우저는 해당 기능을 제공한다. 특히 <strong>지속 커넥션의 경우 1.1 버전으로 넘어오면서 기본적인 설정 값이 돼 명시적으로 Connection 헤더를 입력하지 않는 이상 지속 커넥션을 기본 값으로 활용한다.</strong></p></div><div><p dir="auto">만약 연결을 명시적으로 종료하고 싶을 경우 명시적으로 커넥션 헤더를 사용해야한다. 하지만 에러가 발생하거나 서버에 포트 부족 등의 문제가 발생할 경우 헤더의 여부와 상관 없이 커넥션을 종료할 수도 있다.</p></div><div><p dir="auto"><strong>커넥션이 지속되기 때문에 클라이언트는 서버의 전송이 언제 종료 되는지를 파악하기 위한 수단으로 Content-Length를 활용한다.</strong> </p></div><div><hr dir="auto"></div></div></div><div class="heading-wrapper"><h3 data-heading="지속 커넥션과 Content-Length" dir="auto" class="heading" id="지속_커넥션과_Content-Length"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>지속 커넥션과 Content-Length</h3><div class="heading-children"><div><p dir="auto"><a data-href="초 간단 웹서버 만들고 실험하기" href="network/초-간단-웹서버-만들고-실험하기.html" class="internal-link" target="_self" rel="noopener">초 간단 웹서버 만들고 실험하기</a> 에서 웹서버를 만들고 크롬에서 테스트 하던중 기묘한 현상이 발생했다. 페이지가 로딩이 완료 됐음에도 크롬 로딩바가 계속 돌아가는 것이다. 로딩은 끝나질 않았고 웹서버에 어떤 요청을 보내도 해당 현상이 발생했다. 사용했던 웹서버의 메시지 전송 부분의 코드는 아래와 같다.</p></div><div><pre dir="auto" class="language-python" tabindex="0"><code class="language-python is-loaded">
<span class="token keyword">def</span> <span class="token function">create_response</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    first_line <span class="token operator">=</span> <span class="token triple-quoted-string string">"""HTTP/1.1 200 OK\r\n"""</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        html <span class="token operator">=</span> get_html<span class="token punctuation">(</span>path<span class="token punctuation">)</span>

    <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
        first_line <span class="token operator">=</span> <span class="token triple-quoted-string string">"""HTTP/1.1 404 Not Found\r\n"""</span>
        html <span class="token operator">=</span> get_html<span class="token punctuation">(</span><span class="token string">"404.html"</span><span class="token punctuation">)</span>

    <span class="token keyword">except</span> Exception<span class="token punctuation">:</span>
        first_line <span class="token operator">=</span> <span class="token triple-quoted-string string">"""HTTP/1.1 500 Server Error\r\n"""</span>
        html <span class="token operator">=</span> get_html<span class="token punctuation">(</span><span class="token string">"500.html"</span><span class="token punctuation">)</span>

    <span class="token keyword">finally</span><span class="token punctuation">:</span>
        bytes_length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
        <span class="token comment"># header = f"Content-Type: text/html\r\n\r\n" no length infinite loading...</span>
        header <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"Content-Type: text/html\r\nContent-Length:</span><span class="token interpolation"><span class="token punctuation">{</span>bytes_length<span class="token punctuation">}</span></span><span class="token string">\r\n\r\n"</span></span> <span class="token comment">#with length finite loading...</span>
        response_msg <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>first_line<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>header<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>html<span class="token punctuation">}</span></span><span class="token string">"</span></span>
        <span class="token keyword">return</span> response_msg

</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">초기 <strong>컨텐츠 길이를 헤더에 넣어서 전달하지 않을 경우 전송을 진행한 후 커넥션을 곧장 닫지 않으므로 크롬에서 로딩이 완료 됐음을 확인하지 못하는 현상이 발생</strong>했다. 이후 컨텐츠 길이를 명시한 뒤로는 해당 바이트만큼 로딩을 수행하고 페이지를 렌더링하는 것을 확인할 수 있었다.</p></div><div><p dir="auto"><strong>이러한 현상은 지속 커넥션에서 명확하게 발생하는데 단일한 커넥션으로 여러 데이터를 주고 받을 경우 통신 대상 들은 정확하게 하나의 메시지 만을 소켓에서 읽을 수 있어야 한다.</strong> (하나의 소켓에 메시지가 복수개 쌓이기 때문) 만약 임의의 크기로 데이터를 읽을 경우 한번의 recv에서 복수 개의 데이터를 읽어버려 평생 응답을 받을 수 없는 요청이 발생하게 된다.</p></div><div><hr dir="auto"></div></div></div><div class="heading-wrapper"><h3 data-heading="파이프라인과 멱등성" dir="auto" class="heading" id="파이프라인과_멱등성"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>파이프라인과 멱등성</h3><div class="heading-children"><div><p dir="auto"><strong>파이프라인 커넥션이란 응답이 오기 이전에 연속해서 리퀘스트를 전송하는 방식</strong>을 말한다. 파이프라인 기법을 활용 할 경우 응답 시간을 기다릴 필요 없이 곧장 복수 개의 리퀘스트를 전송해 응답 속도를 대거 높일 수 있다는 장점이 존재한다.<br>
<img alt="500" src="https://my-study.s3.ap-northeast-2.amazonaws.com/HTTP%20Connection%20/%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-25%20%EC%98%A4%ED%9B%84%205.11.55.png" referrerpolicy="no-referrer"></p></div><div><p dir="auto"><strong>파이프라인은 멱등성이 보장되지 않는 요청을 처리할 경우 문제를 유발 할 수 있다</strong>. 예를 들어 가장 마지막에 생성된 글을 지우는 API를 10번 호출한다고 하자. 10개의 요청은 곧장 서버의 처리 대기 큐에 저장될 것이고 하나 씩 순차적으로 처리가 될 것이다. </p></div><div><p dir="auto">문제점은 처리중 에러가 발생하는 경우이다. 클라이언트는 서버가 처리 도중 뻗었기 때문에 어디서 부터 재시도를 해야하는지 명확히 파악하지 못한다. 또한 무턱대고 재시도를 진행하면 삭제가 더욱 발생하며 원치 않는 결과를 야기할 수도 있다.</p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="info" class="callout" dir="auto"><div class="callout-title" dir="auto"><div class="callout-icon" dir="auto"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-info"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="callout-title-inner" dir="auto">Info</div></div><div class="callout-content" dir="auto">
<p dir="auto"><strong>파이프라인을 활용한 HTTP 요청은 멱등성을 보장하는 트랜젝션에 한해 사용하는 편이 안전하다. 멱등성이 없을 경우 복구 등에 어려움이 발생할 수 있기 때문이다.</strong></p>
</div></div></div><div><hr dir="auto"></div></div></div><div class="heading-wrapper"><h3 data-heading="지속 커넥션 성능 확인하기" dir="auto" class="heading" id="지속_커넥션_성능_확인하기"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>지속 커넥션 성능 확인하기</h3><div class="heading-children"><div><p dir="auto">지속 커넥션의 장점을 머리로는 이해했으니 실제로 효과가 있는 검증하는 작업을 수행해보자. 아래에서는 <a data-href="초 간단 웹서버 만들고 실험하기" href="network/초-간단-웹서버-만들고-실험하기.html" class="internal-link" target="_self" rel="noopener">초 간단 웹서버 만들고 실험하기</a>에서 작성한 웹서버 코드를 토대로 지속 커넥션의 성능을 확인한다.</p></div><div><p dir="auto">아래는 테스트를 위한 클라이언트 코드이다.</p></div><div><pre dir="auto" class="language-python" tabindex="0"><code class="language-python is-loaded"><span class="token keyword">def</span> <span class="token function">connection_not_reuse_test</span><span class="token punctuation">(</span>try_cnt<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    total <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>try_cnt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        pool_ <span class="token operator">=</span> urllib3<span class="token punctuation">.</span>PoolManager<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#커넥션 신규 생성</span>
        resp <span class="token operator">=</span> pool_<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>HOST<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span> <span class="token comment">#요청 전송</span>
        end <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"request: </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string"> is done </span><span class="token interpolation"><span class="token punctuation">{</span>resp<span class="token punctuation">}</span></span><span class="token string"> time:</span><span class="token interpolation"><span class="token punctuation">{</span>end <span class="token operator">-</span> start<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        total <span class="token operator">+=</span> end <span class="token operator">-</span> start
    <span class="token keyword">return</span> total


<span class="token keyword">def</span> <span class="token function">connection_reuse_test</span><span class="token punctuation">(</span>try_cnt<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pool <span class="token operator">=</span> urllib3<span class="token punctuation">.</span>connection_from_url<span class="token punctuation">(</span>HOST<span class="token punctuation">)</span> <span class="token comment">#커넥션 생성</span>
    total <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>try_cnt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        resp <span class="token operator">=</span> pool<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> HOST<span class="token punctuation">)</span> <span class="token comment">#요청 전송</span>
        end <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"request: </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string"> is done </span><span class="token interpolation"><span class="token punctuation">{</span>resp<span class="token punctuation">}</span></span><span class="token string"> time:</span><span class="token interpolation"><span class="token punctuation">{</span>end <span class="token operator">-</span> start<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        total <span class="token operator">+=</span> end <span class="token operator">-</span> start
    <span class="token keyword">return</span> total
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">커넥션을 재사용하는 방식의 경우 한번 커넥션을 생성한 이후로 추가적인 커넥션을 맺지 않는다. 반대로 커넥션을 재사용하지 않는 코드는 매 요청마다 커넥션을 신규로 맺는 작업을 수행한다. 결과는 다음과 같다.</p></div><div><pre dir="auto" class="language-terminal" tabindex="0"><code class="language-terminal is-loaded">Total:31.71579909324646, avg sec: 3.171579909324646 (재사용)
Total:34.40744423866272, avg sec: 3.440744423866272 (재사용 안함)
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto"><strong>실행 결과 재사용이 약 10% 정도 빠른 속도를 보이는 것을 확인할 수 있었다. 핸드 쉐이크 과정이 생략 되며 속도가 더 빨라질 것이라 예측한 것을 실제로 확인할 수 있었다.</strong></p></div><div><p dir="auto">실험 환경은 ngrok을 활용해 배포한 호스트 주소로 진행했다. 호스트의 위치가 일본이었는데 아마 더욱 먼 곳에 할당 됐더라면 더욱 차이가 크지 않았을까 싶다. </p></div><div><div data-callout-metadata="" data-callout-fold="" data-callout="info" class="callout" dir="auto"><div class="callout-title" dir="auto"><div class="callout-icon" dir="auto"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-info"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="callout-title-inner" dir="auto">Info</div></div><div class="callout-content" dir="auto">
<p dir="auto"><strong>지속 커넥션을 활용하면 실제로 빨라진다.</strong></p>
</div></div></div><div><hr dir="auto"></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="network/http-connection.html#HTTP Connection"><div class="tree-item-contents heading-link" heading-name="HTTP Connection"><span class="tree-item-title">HTTP Connection</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#출처"><div class="tree-item-contents heading-link" heading-name="출처"><span class="tree-item-title">출처</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#개요"><div class="tree-item-contents heading-link" heading-name="개요"><span class="tree-item-title">개요</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#HTTP의_성능"><div class="tree-item-contents heading-link" heading-name="HTTP의 성능"><span class="tree-item-title">HTTP의 성능</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="network/http-connection.html#핸드_쉐이크"><div class="tree-item-contents heading-link" heading-name="핸드 쉐이크"><span class="tree-item-title">핸드 쉐이크</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="network/http-connection.html#네이글_알고리즘"><div class="tree-item-contents heading-link" heading-name="네이글 알고리즘"><span class="tree-item-title">네이글 알고리즘</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="network/http-connection.html#ACK_전송_지연"><div class="tree-item-contents heading-link" heading-name="ACK 전송 지연"><span class="tree-item-title">ACK 전송 지연</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="network/http-connection.html#[[TCP_혼잡_제어#Slow_Start|Slow_Start]]"><div class="tree-item-contents heading-link" heading-name="[[TCP 혼잡 제어#Slow Start|Slow Start]]"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="TCP 혼잡 제어 > Slow Start" data-href="TCP 혼잡 제어#Slow Start" href="TCP 혼잡 제어#Slow Start" class="internal-link" target="_blank" rel="noopener">Slow Start</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="network/http-connection.html#[[TCP_첫_걸음#4-Way_Hand_Shake|Time_Wait]]"><div class="tree-item-contents heading-link" heading-name="[[TCP 첫 걸음#4-Way Hand Shake|Time Wait]]"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="TCP 첫 걸음 > 4-Way Hand Shake" data-href="TCP 첫 걸음#4-Way Hand Shake" href="TCP 첫 걸음#4-Way Hand Shake" class="internal-link" target="_blank" rel="noopener">Time Wait</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#HTTP의_커넥션_관리"><div class="tree-item-contents heading-link" heading-name="HTTP의 커넥션 관리"><span class="tree-item-title">HTTP의 커넥션 관리</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#HTTP_1.1_과_지속_커넥션"><div class="tree-item-contents heading-link" heading-name="HTTP 1.1 과 지속 커넥션"><span class="tree-item-title">HTTP 1.1 과 지속 커넥션</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#지속_커넥션과_Content-Length"><div class="tree-item-contents heading-link" heading-name="지속 커넥션과 Content-Length"><span class="tree-item-title">지속 커넥션과 Content-Length</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#파이프라인과_멱등성"><div class="tree-item-contents heading-link" heading-name="파이프라인과 멱등성"><span class="tree-item-title">파이프라인과 멱등성</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="network/http-connection.html#지속_커넥션_성능_확인하기"><div class="tree-item-contents heading-link" heading-name="지속 커넥션 성능 확인하기"><span class="tree-item-title">지속 커넥션 성능 확인하기</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>